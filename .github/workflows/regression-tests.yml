# Regression Tests Workflow
# Purpose: Specialized Golden Master and Backward Compatibility checks

name: Regression Tests

on:
  pull_request:
    branches: [main, develop]
  push:
    branches: [main, develop]
  workflow_dispatch:

jobs:
  regression-tests:
    name: Regression Tests
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Setup Analyzer
      uses: ./.github/actions/setup-analyzer
      with:
        os: ubuntu-latest
        python-version: "3.11"
        uv-sync: "true"

    - name: Run Regression Tests
      run: |
        echo "### ðŸ”„ Regression Tests" >> $GITHUB_STEP_SUMMARY
        # Only run regression marked tests
        uv run pytest tests/ -v -m regression --tb=short
      shell: bash
